<markdown-editor>
  <div class="card">
    <p>&nbsp;</p>
    <div class="card-title center">
      <input type="text" style="width: 70%; text-align: center" placeholder="Title" value="{ title }">
      <!--<p>Date: <input type="text" id="datepicker"></p>-->
    </div>
    <div class="card-content">
      <textarea id="editor"></textarea>

      <a class="waves-effect waves-light btn materialize-red"><i class="material-icons right">cancel</i>Cancel</a>
      <a class="waves-effect waves-light btn green right"><i class="material-icons right" onclick="{ save }">save</i>Save</a>
    </div>
  </div>

  <script>
      var tag = this;
      tag.title = opts.title || null;
      tag.on('mount', function () {
          tag.simplemde = new SimpleMDE({
              element: document.getElementById('editor'),
              toolbar: [
                  'bold', 'italic', 'heading', '|',
                  'quote', 'unordered-list', 'ordered-list', '|',
                  'link', 'image', '|',
                  'preview', 'side-by-side', 'fullscreen', '|',
                  'guide', {
                name: 'save',
                action: tag.save,
                className: 'fa fa-floppy-o',
                title: 'Save'}
              ]
          });
      });

      tag.save = () => {
        console.log('saving content!');
        var content = tag.get();
        console.log(content);

        var fs = require('fs');
        fs.writeFile("/Temp/test.txt", content, function(err) {
          if(err) {
            return console.log(err);
          }

          console.log("The file was saved!");
        });
      }

      tag.get = () => {
        return tag.simplemde.value();
      }
  </script>
</markdown-editor>
